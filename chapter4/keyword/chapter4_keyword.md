- 외래키
    
    FK(Foreign Key)라고 하며 한 테이블의 attribute 중 다른 테이블의 row를 식별할 수 있는 키를 말한다. 다른 테이블을 가리키는 값이기 때문에 참조되는 곳의 있는 값들만 가리켜야 한다. 그냥 C언어의 pointer와 비슷하게 생각하면 된다.
    
    참조하는 테이블과 참조되는 테이블이 동일할 수 있으며 이를 재귀적 외래키라고 말한다.
    
    예를들어 human 테이블이 있고 parent attribute와 child attribute가 있다고 하면 이 둘은 같은 human table을 참조하는 외래키가 된다.
    
    하나의 테이블의 여러개의 외래키가 존재할 수 있다. 이 특성을 이용해서 N:M관계를 만들기 위해서 중간에 테이블을 두고 N 테이블과 M 테이블을 연관시킨다. 이번 주차 예제로 나온 book과 hash tag의 관계를 예로 들 수 있다.
    
    외래키 선언하는 법
    
    ```sql
    CREATE TABLE exercise(
        e_ID integer primary key,
        m_id integer references member(m_ID),
        e_name varchar2(20) not null,
        e_minute integer,
        cnt integer 
        );
    ```
    
    m_id 부분에 references를 붙인 것과 같이 외래키를 정의할 수 있다 (위 sql은 oracle기반 sql이다.)
    
- 기본키
    
    PK(Primary Key)라고 하며 candidate key 중 record를 식별하는데 적합하다고 판단한 key를 설계자가 고른것이다. 우리나라 국민들을 대상으로 한다면 주민등록번호가 그 예가 될 것이고, 대학생들을 대상으로 한다면 자신의 학번이 PK가 될 것이다. 이처럼 어떠한 attributes or attribute를 통해 특정 record를 지정할 수 있다면 이는 PK가 될 수 있다.
    
    우리가 오늘 다룬 예제에서는 PK가 다 하나의 attribute로 이루어진 경우만 나왔는데, 꼭 하나의 attribute로 이루어져 있지 않아도 된다. 오늘 예제에서 rent table을 보면 따로 rent table을 위한 pk가 존재하지만, id가 없다면 fk인 member_id와 book_id를 pk로 삼아서 사용할 수도 있다.(물론 같은 책을 여러번 빌리는 경우 식별할 수 없으므로 적합하지는 않다)
    
- ER 다이어그램
    
    데이터베이스 설계를 위해 사용되는 도구이며, Entity와 그 Entity들 사이의 Relationship을 표현하기 위해서 그리는 다이어그램이다.
    
    구성 요소로는 Entity, Attribute, Relationship, Primary key, Foreign Key가 될 수 있으며, 이들을 시각화 해서 나타냄으로써 데이터베이스의 구조를 명확하게 보여주고, 데이터베이스의 설계, 구축, 유지보수를 용이하게 만들어준다.
    
- 복합 키
    
    Composite Key는 두 개 이상의 attribute로 이루어진 PK이다. 주로 하나의 개별 속성만으로 각 record를 구분할 수 없을 때 사용한다. 물론 이렇게 여러 개의 attribute로 이루어져 있을 때 각 record를 식별할 수 있어야한다.
    
    예시로는 우리나라의 송도를 생각해보자 우리나라에는 송도가 두 곳 존재한다. 부산의 송도와 인천의 송도 그냥 송도라고 말을 하게 된다면 둘 중 어디인지 알 수 없다 하지만 부산 송도 혹은 인천 송도라고 말을 한다면 어디의 있는 송도인지 식별할 수 있게되고 고유한 지명이된다.
    
- 연관관계
    
    연관관계는 두 entity간의 연결을 나타낸다. 관련된 entity간의 관계를 나타내고, 이를 통해 데이터베이스 구조를 알아낼 수 있다.
    
    종류로는 일대일, 일대다, 다대다 연관관계가 존재한다.
    
    일대일(One to ONe)
    
    entity끼리 하나의 관계만을 갖는 경우를 말한다. 위 예제에서 book과 category가 하나의 관계만을 갖는것을 예를 들 수 있다.
    
    일대다(One to Many)
    
    특정 entity 하나가 여러개의 다른 entity와 관계를 갖을 수 있는 경우를 말한다. 예를 들어 축구 팀과 선수의 관계를 생각할 수 있는데 축구 선수들은 하나의 팀과 하나의 관계만 맺지만, 축구 팀은 하나의 팀이 여러 명의 선수들과 관계를 맺는 것을 예로 생각할 수 있다.
    
    다대다(Many to Many)
    
    한 Entity가 여러개의 다른 Entity와 관계를 갖고, 그 반대의 Entity또한 여러개의 관계를 갖을 수 있는 경우를 말한다. 도서관에서 이용자는 여러권의 다양한 책을 빌릴 수 있고, 책은 다양한 사람에게 빌려질 수 있는 것을 예시로 생각할 수 있다. 데이터베이스에서는 이 관계를 직접 바로 나타낼 수 없기 때문에 이 관계를 중개해주는 테이블을 통해 관계를 맺는다.
    
- 정규화
    
    데이터베이스 설계에서 중복을 최소화하게 데이터를 구조화 하는 것을 말한다.
    
    1NF
    
    각 열에는 하나의 값만 들어가야한다.
    
    2NF
    
    기본 키 일부에만 종속되는 속성이 있는 경우를 제거한다.
    
    3NF
    
    A가 B에 종속되고, B가 C에 종속되는 경우를 제거한다.
    
    4NF
    
    다중 속성이 복합 키의 부분 집합에만 종속되는 경우를 제거한다.
    
    5NF
    
    테이블의 후보키가 아닌 다른 속성이 후보키에 종속되는 경우를 제거한다.
    
    하지만 과도한 정규화의 사용은 join의 사용량이 증가하여 성능문제가 발생할 수 있으므로 이를 적절히 사용해야한다.
    
    1부터 5까지
    
    [정보처리 실기_데이터베이스06강_정규화](https://youtu.be/RXQ1kZ_JHqg?si=f0OPsoOWnJXSbqca)
    
- 반 정규화
    
    정규화와 반대로 데이터베이스의 성능을 위해서 데이터 중복을 허용하고 join을 줄여 query의 복잡성을 낮춘다.
    
    하지만 반대로 데이터의 일관성이 깨질 수 있기 때문에 깨지지 않도록 관리해야한다.
    
    정규화와 반정규화는 특정 한가지만 사용하는 것이 아닌 table의 특징에 따라 특정 table은 정규화를 사용하고, 다른 table은 반정규화를 사용하는 방식으로 해야한다.